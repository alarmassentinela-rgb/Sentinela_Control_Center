<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="sentinela_subscriptions.TrafficGraph" owl="1">
        <!-- Load Chart.js directly to ensure availability -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
        
        <div class="o_traffic_graph_container" style="width: 100%; height: 400px; padding: 10px; background: #f9f9f9; border: 1px solid #ddd;">
            <div class="d-flex justify-content-between mb-2">
                <span class="badge rounded-pill text-bg-info">IP: <t t-esc="state.current_ip"/></span>
                <span class="badge rounded-pill text-bg-secondary"><t t-esc="state.status"/></span>
            </div>
            <div style="position: relative; height: 350px;">
                <canvas t-ref="canvas"></canvas>
            </div>
        </div>
    </t>
</templates>
